<p-blockUI [blocked]="blocked">
  <p-progressSpinner></p-progressSpinner>
  <div class="block-ui-text">Vereine werden abgerufen...</div>
</p-blockUI>

<div class="container">
  <div class="main-container">
    <app-association-edit-form [selectedAssociationId]="selectedAssociation?.id"
                               [isNew]="isNew"
                               (reload)="reload($event)">
    </app-association-edit-form>
  </div>
</div>

<p-sidebar [(visible)]="sidebarExpanded"
           [position]="'right'"
           [showCloseIcon]="true"
           [modal]="false">
  <div class="sidebar-content">

    <div class="logo">
      <a href="https://house-of-resources-stuttgart.de/" title="House of Resources Stuttgart">
        <img src="assets/forum-der-kulturen.svg" alt="Forum der Kulturen (Logo)" class="full-width logo-img"/>
      </a>
    </div>

    <h3>
      Vereine
      <span>
        ({{associations?.length || 0}})
      </span>
    </h3>

    <app-associations-list [associations]="associations"
                           [selectedAssociationField]="selectedAssociation?.id"
                           [identifiedByFieldName]="'id'"
                           [primeNgIconClass]="'pi pi-pencil'"
                           (selected)="selectAssociation($event)">
    </app-associations-list>

    <div class="clear-button">
      <p-button (click)="selectAssociation(undefined, true)" [disabled]="isNew">
        <i class="pi pi-plus"></i>&nbsp;&nbsp;Verein hinzufÃ¼gen
      </p-button>
    </div>

    <div class="clear-button">
      <p-button (click)="ngOnInit();">
        <i class="pi pi-spinner"></i>&nbsp;&nbsp;Neu laden
      </p-button>
    </div>
  </div>
</p-sidebar>

<div class="sidebar-trigger-button"
     [ngClass]="{ 'expanded': sidebarExpanded }">
  <p-button type="text"
            [icon]="!sidebarExpanded ? 'pi pi-arrow-left' : 'pi pi-arrow-right'"
            (click)="toggleSidebar()">
  </p-button>
</div>
